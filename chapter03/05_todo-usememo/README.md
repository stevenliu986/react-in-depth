## React组件性能优化
#### React的优化有多种方式，可以使用memo，useMemo，useCallback等函数来对组件性能进行优化。这些优化可以使组件避免不必要的重新渲染。本例是使用了useMemo。

#### useMemo(calculateValue, dependencies)参数说明
1. 要缓存计算值的函数。它应该是一个没有任何参数的纯函数，并且可以返回任意类型。React 将会在首次渲染时调用该函数；在之后的渲染中，如果 dependencies 没有发生变化，React 将直接返回相同值。否则，将会再次调用 calculateValue 并返回最新结果，然后缓存该结果以便下次重复使用。
2. dependencies：所有在 calculateValue 函数中使用的响应式变量组成的数组。响应式变量包括 props、state 和所有你直接在组件中定义的变量和函数。依赖项数组的长度必须是固定的并且必须写成 [dep1, dep2, dep3] 这种形式。
   
#### useMemo 不会让首次渲染更快，它只会帮助你跳过不必要的更新工作。

#### 在实践中，你可以通过遵循一些原则来避免 useMemo 的滥用：
1. 当一个组件在视觉上包裹其他组件时，让它将JSX作为子组件传递。这样，当包装器组件更新自己的state时，React知道它的子组件不需要重新渲染。
2. 首选本地state，非必要不进行 状态提升。例如，不要保持像表单、组件是否悬停在组件树顶部这样的瞬时状态。
3. 保持你的 渲染逻辑纯粹。如果重新渲染组件会导致一些问题或产生一些明显的视觉错误，那么它就是组件中的错误！修复错误而不是使用记忆化。
4. 避免不必要地更新state的Effect。React应用程序中的大多数性能问题都是由Effect创造的更新链引起的，这些更新链导致组件反复重新渲染。
5. 尽量从Effect中移除不必要的依赖项。例如, 相比于记忆化，在Effect内部或组件外部移动某些对象或函数通常更简单。